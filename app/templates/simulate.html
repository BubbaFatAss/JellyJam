{% extends 'base.html' %}
{% block content %}
  <section class="panel">
    <h2>Simulate NFC Scan</h2>
    <label>Card ID <input id="card" placeholder="card id"></label>
    <div class="form-actions"><button id="sim">Simulate</button></div>
    <div id="result"></div>
  </section>

  <script>
  document.getElementById('sim').addEventListener('click', async () => {
    const card = document.getElementById('card').value;
    const res = await fetch('/simulate', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({card_id: card})});
    const j = await res.json();
    document.getElementById('result').innerText = JSON.stringify(j);
  });
  </script>
{% endblock %}
